# 第十八章 JS 与 XML

1. XML 一度成为存储和通过因特网传输结构化数据的标准，浏览器无法解析 XML，DOM 出现之后浏览器都内置了对原生支持，同时也提供了一系列的技术支持
2. XPath 是设计来在 DOM 中查找节点的一种手段，因此对 XML 处理也很重要。
3. XSLT 市与 XML 相关的技术，利用 XPath 将文档从一种表现形式转换成另一种表现形式。与 XML 和 XPath 不同，它没有正式的 API，正式的 DOM 规范中页没有它的位置。

# 第十九章 E4X

1. E4X 为处理 XML 定义了新的语法，也定义了特定于 XML 的对象，它只是 ECMA 对 ES 的扩展，目的是为了操作 XML 数据提供与标准的 ES 更接近的语法。

# 第二十章 JSON

（1）理解 JSON 语法
（2）解析 JSON
（3）序列化 JSON
（4）因为 XML 太繁琐冗长
（5）JOSN 是一种数据格式，不是编程语言，并不是只有 js 才使用 JSON，它是一种数据格式，很多编程语言都有针对 JSON 的解析器和序列化器。

## 20.1 语法

（1）可以表示以下三种类型的值：

- 简单值：使用 js 相同的语法，可以在 JSON 中表示字符串、数值、布尔值和 null，但是不支持 undefined
- 对象： 一组无序的键值对
- 数组：也是复杂数据类型，一组有序值的列表，可以通过数值索引来访问其中的值
  （2）JSON 不支持变量、函数或对象实例，它就是表示结构化数据的格式，虽然和 js 中表示的某些语法相同，但它并不局限 js 范凑

## 20.2 解析与序列化

1. JSON 对象
   （1）早期使用 eval 解析，返回 js 对象和数组
   （2）现在有内置 JSON 全局对象
   （3）内置 stringify 和 parse 方法，分别序列化为 JSON 字符串和解析为原生 js
   （4）在序列化 js 对象时，所有的函数及原型成员都会被有意忽略，不体现在结果中，此外，值为 undefined 的属性也会跳过
   （5）序列化选项
2. 序列化选项
   （1）stringify 还可以接收另外两个参数，用于指定用不同的方式序列化 js 对象，第一个是过滤器，可以是数组也可以是函数，第二个是一个选项，表示是否在 JSON 保存缩进

- 如果是数组，结果中只包含数组中列出来的属性
- 第二个参数是函数行为稍微不同，传入的函数接收两个参数，属性名和属性值，根据属性名可以知道应该如何处理需要序列化的对象中的属性，属性名只能是字符串，而在值并非键值对的情况下，键名也可以是空字符串，函数返回的值是相应的键的值，如果返回 undefined，相应的属性会被忽略
  （2）字符串缩进
- 参数为数值：表示每个级别缩进的空格数,最大为 10
- 参数为字符串：将这个字符串用做缩进字符
  （3）可以给对象定义 toJSON 方法，返回其自身的 JSON 数据格式，可以为任何对象添加 toJSON 方法
  （4）toJSON 方法可以作为函数过滤器的补充，假设把对象传给 stringify，序列化该对象的顺序如下：
- 如果存在 toJSON 方法且能通过它取得有效的值则调用该方法，否则返回对象本身
- 提供第二个参数则使用这个函数过滤器，传入函数过滤器的值是第上一步返回的值
- 对上一步返回的每个值进行相应的序列化
- 如果有第三个参数，执行相应的格式化

3. 解析选项
   （1）parse 也可以接收另一个参数：是一个函数，将在每个键值对上调用，与 stringify 过滤函数类似，参数相同，可以称为还原函数，
   （2）返回 undefined 则从结果删除相应的键，返回其他值插入结果
