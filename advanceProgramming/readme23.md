# 第二十三章 缓存

## 23.1 离线检测

1. navagator.onLine
2. window 的离线在线事件
   （1）online 触发
   （2）offline 触发

# 第 24 章 最佳实践

## 24.1 可维护性

1. 什么是可维护性
   （1）可理解：无需他人解释就可以理解代码意图
   （2）直观性：不管操作多复杂，一看就懂
   （3）可适应性：数据上的变化无需重写
   （4）可拓展：架构上考虑未来，核心可拓展
   （5）可调试：错误提示
2. 代码约定
   （1）可读性：缩进和注释
   （2）变量和函数名：变量名词、函数名动词
   （3）变量类型透明：加类型前缀或者使用强类型语言 ts
3. 松散耦合
   （1）解藕 html 和 js，不要使用内部 script 标签或者事件调用，单独写 js 文件，
   （2）js 与 css：动态修改样式类而不是直接修改样式
   （3）应用逻辑和事件处理程序：一个事件处理程序应该从事件对象中提取相关信息，并将这些信息传达到处理应用逻辑的某个方法中；应用和业务逻辑松散的几条原则：

- 不要将 event 对象传递给其他方法，只传来自 event 对象中所需的数据
- 任何可以在应用层面的动作都应该可以在不执行任何事件处理程序的情况下进行
- 任何事件处理程序都应该处理事件，然后将处理转交给应用逻辑

4. 编程实践
   （1）尊重对象所有权：不是你维护的对象，不要再原型上添加新的属性或者方法，也不要重写方法

- 创建包含所需功能的新对象，并用它与相关对象进行交互、
- 创建自定义类型，继承需要修改的类型，可以对自定义类型添加额外功能
  （2）避免全局量：最多创建一个全局变量，所有的函数和对象都包含在它里面；将功能组合在一个对象叫做命名空间；命名空间可以保证代码在同一个页面上与其他代码以无害的方式一起工作
  （3）避免与 null 比较：
- 引用类型使用 instanceof 检测构造函数
- 基础类型使用 typeof
- 希望对象包含特定方法名，typeof 指定特定名字的方法存在于对象上
