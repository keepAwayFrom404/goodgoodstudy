<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <div id="g6"></div>
  <script src="https://gw.alipayobjects.com/os/antv/pkg/_antv.g6-3.2.3/build/g6.js"></script>
  <script>
    const data = {
      nodes: [{
          id: "0",
          label: "MAC1",
          class: "mac"
        },
        {
          id: "1",
          label: "IMEI2",
          class: "imei"
        },
        {
          id: "2",
          label: "IMSI1",
          class: "imsi"
        },
        {
          id: "3",
          label: "PN1",
          class: "pn"
        },
        {
          id: "4",
          label: "MAC2",
          class: "mac"
        },
        {
          id: "5",
          label: "IMEI1",
          class: "imei"
        },
        {
          id: "6",
          label: "IMSI2",
          class: "imsi"
        }
      ],
      edges: [{
          source: "0",
          target: "1",
          weight: 5,
          id: '5-abc'
        },
        {
          source: "0",
          target: "2",
          weight: 5,
          id: '1-gt'
        },
        {
          source: "1",
          target: "2",
          weight: 5,
          id: '5-gt'
        },
        {
          source: "2",
          target: "3",
          weight: 3,
          id: '3-gt'
        },
        {
          source: "2",
          target: "4",
          weight: 1,
          id: '1-gt'
        },
        {
          source: "2",
          target: "5",
          weight: 1,
          id: '1-gt'
        },
        {
          source: "4",
          target: "5",
          weight: 5,
          id: '5-gt'
        },
        {
          source: "4",
          target: "6",
          weight: 5,
          id: '5-gt'
        },
        {
          source: "5",
          target: "6",
          weight: 5,
          id: '5-1'
        }
      ]
    };
    const nodes = data.nodes;
    const edges = data.edges;
    nodes.forEach(node => {
      if (!node.style) {
        node.style = {};
      }
      node.style.lineWidth = 1;
      node.style.stroke = "#666";
      switch (node.class) {
        case "mac": {
          node.style.fill = "red";
          break;
        }
        case "imei": {
          node.style.fill = "gray";
          break;
        }
        case "imsi": {
          node.style.fill = "blue";
          break;
        }
        case "pn": {
          node.style.fill = "green";
          break;
        }
      }
    });
    edges.forEach(edge => {
      if (!edge.style) {
        edge.style = {};
      }
      edge.style.lineWidth = edge.weight;
      edge.style.opacity = 0.6;
      edge.style.stroke = "grey";
    });
    const graph = new G6.Graph({
      container: "g6",
      width: 1200,
      height: 900,
      layout: {
        type: "force",
        center: [500, 250],
        linkDistance: 100,
        linkDistance: d => {
          switch (parseInt(d.id)) {
            case 1:
              return 250
              break;
            case 3:
              return 200
              break;
            case 5:
              return 150
              break;
            default:
              break;
          }

        },
        nodeStrength: (node) => {
          switch (node.class) {
            case 'mac':
              return 0
              break;
            case 'imei':
              return 30
              break;
            case 'imsi':
              return 60
              break;
            case 'pn':
              return 90
              break;
            default:
              break;
          }
        },
        preventOverlap: true,
        strictRadial: false
      },
      animate: true,
      modes: {
        // 支持的 behavior
        default: [
          "drag-canvas",
          "drag-node",
          "zoom-canvas",
          "activate-relations",
          {
            type: "tooltip", // 提示框
            formatText(model) {
              // 提示框文本内容
              const text =
                "label: " + model.label + "<br/> class: " + model.class;
              return text;
            }
          }
        ],
        edit: ["click-select"]
      },
      defaultNode: {
        size: 30,
        labelCfg: {
          style: {
            fill: "#fff"
          }
        }
      },
      defaultEdge: {
        labelCfg: {
          autoRotate: true
        }
      }
    });
    graph.data(data);
    graph.render(); // 渲染
  </script>
</body>

</html>